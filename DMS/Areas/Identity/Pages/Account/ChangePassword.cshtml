@page
@model ChangePasswordModel

@{
    Layout = "/Views/Shared/_Layout.cshtml";
    // ViewData["Title"] = "Change password";
    // ViewData["ActivePage"] = ManageNavPages.ChangePassword;
}

<h3>@ViewData["Title"]</h3>
<!-- Content wrapper -->
<div class="content-wrapper">
    <!-- Content -->

    <div class="container-xxl flex-grow-1 container-p-y">

        <div class="nav-align-top mb-4">
            <div class="tab-content">
                <div class="row">
                    <div class="col-md-12">
                        <partial name="_StatusMessage" for="StatusMessage" />
                        <!-- Change Password -->
                        <div class="card ">
                            <h2 style="text-align:center;color:#092860;font-family:Bahnschrift;margin-top:10px">Change Password </h2>
                            <div class="card-body">

                                <form id="change-password-form" method="post">
                                    <div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>

                                    <div class="row">
                                        <div class="mb-3 col-md-6 form-password-toggle">
                                            <label class="form-label" for="currentPassword">Current Password</label>
                                            <div class="input-group input-group-merge">
                                                <input asp-for="Input.OldPassword" id="password" class="form-control" autocomplete="new-password" aria-required="true" type="password" placeholder="Please enter your old password." />
                                                <span onclick="togglePassword('password', 'btnTogglePassword')" class="input-group-text cursor-pointer"><i id="btnTogglePassword" class="bx bx-hide"></i></span>
                                                <span asp-validation-for="Input.OldPassword" class="input-group-text cursor-pointer text-danger"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="mb-3 col-md-6 form-password-toggle">
                                            <label class="form-label" for="newPassword">New Password</label>
                                            <div class="input-group input-group-merge">
                                                <input asp-for="Input.NewPassword" id="nPassword" class="form-control" autocomplete="new-password" aria-required="true" type="password" placeholder="Please enter your new password." />

                                                <span onclick="togglePassword('nPassword', 'btnToggleNewPassword')" class=" input-group-text cursor-pointer"><i id="btnToggleNewPassword" class="bx bx-hide"></i></span>
                                                <span asp-validation-for="Input.NewPassword" class="input-group-text cursor-pointer text-danger "></span>
                                            </div>

                                        </div>

                                        <div class="mb-3 col-md-6 form-password-toggle">
                                            <label class="form-label" for="confirmPassword">Confirm New Password</label>

                                            <div class="input-group input-group-merge">
                                                <input asp-for="Input.ConfirmPassword" id="cpassword" class="form-control" autocomplete="new-password" aria-required="true" type="password" placeholder="Please enter your new password." />
                                                <span onclick="togglePassword('cpassword', 'btnToggleConfirmPassword')" class="input-group-text cursor-pointer"><i id="btnToggleConfirmPassword" class="bx bx-hide"></i></span>
                                                <span asp-validation-for="Input.ConfirmPassword" class="input-group-text cursor-pointer text-danger"></span>
                                            </div>
                                        </div>

                                        <div class="col-12 mt-1">
                                            <button type="submit" class="btn btn-primary me-2">Save changes</button>
                                            <button type="reset" class="btn btn-dark ">Reset</button>
                                        </div>
                                    </div>
                                </form>
                                <div class="col-12 mb-2">
                                    <p class="fw-semibold mt-2">Password Requirements:</p>
                                    <ul class="ps-3 mb-0">
                                        <li style="color:#092860" class="mb-1">
                                            Minimum 8 characters long - the more, the better
                                        </li>
                                        <li style="color:#092860" class="mb-1">At least one lowercase character</li>
                                        <li style="color:#092860">At least one number, symbol, or whitespace character</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!--/ Change Password -->

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        // var userTable = $('#myTable').DataTable();
        function togglePassword(inputId, iconId) {
            let passwordInput = document.getElementById(inputId);
            let icon = document.getElementById(iconId);

            if (passwordInput.type === "password") {
                passwordInput.type = "text"; // Show password
                icon.classList.replace("bx-hide", "bx-show");
            } else {
                passwordInput.type = "password"; // Hide password
                icon.classList.replace("bx-show", "bx-hide");
            }
        }
    </script>
}



